const activityType_Array=["steps","elevation","floors","calories"],unitType_kvp={steps:"steps",elevation:"feet",floors:"floors",calories:"calories"};function fitbitInit(){activityType_Array.forEach((function(t){let a=localStorage.getItem("fitbitData_"+t);if(a){let e=JSON.parse(a),i=Math.round(new Date(e.key).getTime());Math.round((new Date).getTime())-i>sessionExpireTime?getFitbitData(t):popuplateFitbitData(t,e.value)}else getFitbitData(t)}))}function getFitbitData(t){$.ajax({type:"GET",data:{action:t},url:"php/fitbitData.php",success:function(a){let e=JSON.parse(a);if(e){let a={key:new Date,value:e};localStorage.setItem("fitbitData_"+t,JSON.stringify(a)),popuplateFitbitData(t,a.value)}else popuplateFitbitDataFromLocalStorage()},error:function(t){popuplateFitbitDataFromLocalStorage()}})}function popuplateFitbitDataFromLocalStorage(t){let a=JSON.parse(localStorage.getItem("fitbitData_"+t));a?popuplateFitbitData(t,a.value):console.log("Unable to retrieve Data.")}function popuplateFitbitData(t,a){jQuery("#fitbitData").append('<div class="col-6"><h5>Average '+t+' Per Day:</h5><span id="'+t+'">'+a+" "+unitType_kvp[t]+"</span></div>")}